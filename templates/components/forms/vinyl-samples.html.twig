<div class="table-responsive">
  <table id="vinyl-samples" class="table table-striped">
    <thead>
      <tr>
        <th>Note face A</th>
        <th>Note face B</th>
        <th>Pochette</th>
        <th>Prix</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for sample in vinyl_to_edit.samples %}
        {% set coverRateTxt = 'Aucune pochette' %}
        {% if sample.hasCover %}
          {% set coverRateTxt %}
            {% include 'components/rate-stars.html.twig' with { rate: sample.rateCover } %}
          {% endset %}
        {% elseif sample.hasGenericCover %}
          {% set coverRateTxt = 'Générique' %}
        {% endif %}

        <tr data-sample-id="{{ sample.id }}">
          <td>{% include 'components/rate-stars.html.twig' with { rate: sample.rateFaceA } %}</td>
          <td>{% include 'components/rate-stars.html.twig' with { rate: sample.rateFaceB } %}</td>
          <td>{{ coverRateTxt }}</td>
          <td>{{ sample.price|number_format(2, ',') }}€</td>
          <td class="text-end">
            {% if sample.details is not empty %}
              <button type="button" class="btn btn-sm btn-outline-primary px-2 py-1" data-bs-toggle="popover" data-bs-html="true" data-bs-placement="left"
                title="Infos supplémentaires" data-bs-content="{{ sample.details|spaceless }}">
                <span class="bi-file-plus"></span>
              </button>
            {% endif %}
            <a tabindex="0" class="btn btn-sm btn-outline-danger px-2 py-1" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-html="true" data-bs-placement="left"
              data-bs-content="Êtes-vous sûr de vouloir supprimer cet exemplaire de vinyle ? <div class='mt-2 text-end'><a class='btn btn-sm btn-danger btn-delete-sample' href='{{ path('samples_delete', { sample_id: sample.id }) }}'>Oui</a></div>">
              <span class="bi-trash"></span>
            </a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="bg-secondary text-white rounded-3 p-3">
  <div class="row g-2">
    <div class="col-12 col-sm-6 col-md-4 col-lg-3 pt-2 form-group" data-bs-theme="light">
      <label for="sample-rate-face-a" class="visually-hidden">Note face A</label>
      <input type="range" class="form-range" min="0" max="5" name="sample-rate-face-a" id="sample-rate-face-a">
    </div>

    <div class="col-12 col-sm-6 col-md-4 col-lg-3 pt-2 me-md-4 me-lg-0 form-group" data-bs-theme="light">
      <label for="sample-rate-face-b" class="visually-hidden">Note face B</label>
      <input type="range" class="form-range" min="0" max="5" name="sample-rate-face-b" id="sample-rate-face-b">
    </div>

    <div class="col-12 col-sm-6 col-md-4 col-lg-3 form-group" data-bs-theme="light">
      <label for="sample-cover-type" class="visually-hidden">Pochette</label>
      <select name="sample-cover-type" class="form-control" id="sample-cover-type">
        <option value="no-cover" selected="selected">Pas de pochette</option>
        <option value="has-cover">Pochette d'origine</option>
        <option value="generic-cover">Pochette générique</option>
      </select>
    </div>

    <div class="col-12 col-sm-6 col-md-4 col-lg-3 pt-2 form-group" data-bs-theme="light">
      <label for="sample-rate-cover" class="visually-hidden">Note pochette</label>
      <input type="range" class="form-range" min="0" max="5" id="sample-rate-cover" disabled="disabled">
    </div>

    <div class="col-12 col-md-5 col-lg-3" data-bs-theme="light">
      <label for="sample-price" class="visually-hidden">Prix</label>
      <input type="number" class="form-control" step="0.1" name="sample-price" id="sample-price" placeholder="Prix du vinyle" required="required">
    </div>

    <div class="col-12 col-md-7 col-lg-9" data-bs-theme="light">
      <label for="sample-details" class="visually-hidden">Détails</label>
      <textarea name="sample-details" id="sample-details" class="form-control" rows="1"
        placeholder="Détails sur le vinyle et la pochette (rayures, écritures, ...)"></textarea>
    </div>

    <div class="col-12 text-end">
      <button id="add-sample-2-vinyl" class="btn btn-sm btn-primary" type="button" data-vinyl-id="{{ vinyl_to_edit.id }}">
        <span class="bi-patch-plus-fill me-1"></span> exemplaire
      </button>
    </div>
  </div>
</div>